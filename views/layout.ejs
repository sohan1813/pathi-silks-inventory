<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <title>Pathi Silks Inventory</title>
Â  <link rel="stylesheet" href="/public/style.css" />
Â  Â  <link rel="stylesheet" href="/public/styles/style-premium.css" /> 
Â  <link rel="manifest" href="/public/manifest.webmanifest" />
Â  <meta name="theme-color" content="#201a2c" />
</head>
<body>
Â  <% if (typeof isAdmin === 'undefined') { isAdmin = false; } %>

Â  <header>
Â  Â  <div class="header-left">
Â  Â  Â  <img src="/public/pathi-logo.jpg" alt="Pathi Silks logo" class="header-logo">
Â  Â  Â  <div class="header-title">Pathi Silks Inventory</div>
Â  Â  </div>
Â  Â  <nav>
Â  Â  Â  Â  Â  Â  <% if (!isAdmin) { %>
Â  Â  Â  Â  <a href="/gallery">ğŸ“¸ Main Gallery</a>
Â  Â  Â  Â  <a href="/other-gallery">ğŸ—‚ï¸ Other Albums</a>
Â  Â  Â  Â  <a href="/sales-gallery">ğŸ’° Sales</a>
Â  Â  Â  Â  <a href="/sheets">ğŸ“Š Sheets</a>
Â  Â  Â  <% } %>

Â  Â  Â  Â  Â  Â  <% if (isAdmin) { %>
Â  Â  Â  Â  <a href="/admin-gallery">ğŸ“¸ Admin Gallery</a>
Â  Â  Â  Â  <a href="/admin-main-gallery">ğŸ“¸ Admin Main</a>
Â  Â  Â  Â  <a href="/admin-other-gallery">ğŸ—‚ï¸ Admin Other</a>
Â  Â  Â  Â  <a href="/admin-sales-gallery">ğŸ’° Admin Sales</a>
Â  Â  Â  Â  <a href="/admin-sheets">ğŸ“Š Admin Sheets</a>
Â  Â  Â  Â  <a href="/upload">â¬†ï¸ Upload</a>
Â  Â  Â  <% } %>

Â  Â  Â  <a href="/logout">ğŸšª Logout</a>
Â  Â  Â  <button id="installAppBtn" class="install-btn" style="display:none;">Install app</button>
Â  Â  </nav>
Â  </header>

Â  <main>
Â  Â  <%- typeof body === 'string' ? body : '' %>
Â  </main>

Â  Â  <div id="lightbox" class="lightbox">
Â  Â  <span id="lightbox-close" class="lightbox-close">&times;</span>
Â  Â  <span id="lightbox-prev" class="lightbox-arrow lightbox-prev">â®</span>
Â  Â  <span id="lightbox-next" class="lightbox-arrow lightbox-next">â¯</span>
Â  Â  <div class="lightbox-content">
Â  Â  Â  <img id="lightbox-img" src="" alt="">
Â  Â  </div>
Â  </div>

Â  <script src="/public/lightbox.js"></script>

Â  <script>
Â  Â  // Register service worker for PWA
Â  Â  if ('serviceWorker' in navigator) {
Â  Â  Â  navigator.serviceWorker.register('/public/sw.js');
Â  Â  }

Â  Â  // Custom install button handling
Â  Â  let deferredInstallPrompt = null;
Â  Â  const installBtn = document.getElementById('installAppBtn');

Â  Â  window.addEventListener('beforeinstallprompt', (e) => {
Â  Â  Â  e.preventDefault();
Â  Â  Â  deferredInstallPrompt = e;
Â  Â  Â  if (installBtn) installBtn.style.display = 'inline-block';
Â  Â  });

Â  Â  if (installBtn) {
Â  Â  Â  installBtn.addEventListener('click', async () => {
Â  Â  Â  Â  if (!deferredInstallPrompt) return;
Â  Â  Â  Â  deferredInstallPrompt.prompt();
Â  Â  Â  Â  await deferredInstallPrompt.userChoice;
Â  Â  Â  Â  deferredInstallPrompt = null;
Â  Â  Â  Â  installBtn.style.display = 'none';
Â  Â  Â  });
Â  Â  }
Â  </script>
</body>
</html>